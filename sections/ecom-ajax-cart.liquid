{% assign key = canonical_url | split: 'key=' | last | split: '&' | first | replace: '%3a', ':' %}
{% assign type = canonical_url | split: 'type=' | last | split: '&' | first %}
{%- assign ecom_ajax_cart = shop.metafields.ecomposer['ajax-cart'].value -%}
{% liquid 
    # style button
    assign typo_button = ecom_ajax_cart.typo_button
    assign typo_button__tablet = ecom_ajax_cart.typo_button__tablet
    assign typo_button__mobile = ecom_ajax_cart.typo_button__mobile
    assign width = ecom_ajax_cart.width
    assign width__tablet = ecom_ajax_cart.width__tablet
    assign width__mobile = ecom_ajax_cart.width__mobile
    assign border_radius = ecom_ajax_cart.border_radius
    assign button_padding = ecom_ajax_cart.spacing.padding
    assign button_padding__tablet = ecom_ajax_cart.spacing__tablet.padding
    assign button_padding__mobile = ecom_ajax_cart.spacing__mobile.padding
    assign button_margin = ecom_ajax_cart.spacing.margin
    assign button_margin__tablet = ecom_ajax_cart.spacing__tablet.margin
    assign button_margin__mobile = ecom_ajax_cart.spacing__mobile.margin

    # font 
    assign google_fonts = extension_settings.google_font_css
    assign custom_fonts = extension_settings.custom_font_css
    # checkout button
    assign checkout_label = ecom_ajax_cart.checkout_label
    assign checkout_color = ecom_ajax_cart.checkout_color
    assign checkout_color_hover = ecom_ajax_cart.checkout_color_hover
    assign checkout_background_color = ecom_ajax_cart.checkout_background_color
    assign checkout_background_color_hover = ecom_ajax_cart.checkout_background_color_hover
    assign checkout_background_type_color = ecom_ajax_cart.checkout_background_type_color_css
    assign checkout_background_type_color_hover = ecom_ajax_cart.checkout_background_type_color_hover_css

    # continue shoping button
    assign continue_label = ecom_ajax_cart.continue_label
    assign continue_color = ecom_ajax_cart.continue_color
    assign continue_color_hover = ecom_ajax_cart.continue_color_hover
    assign continue_background_color = ecom_ajax_cart.continue_background_color
    assign continue_background_color_hover = ecom_ajax_cart.continue_background_color_hover
    assign continue_background_type_color = ecom_ajax_cart.continue_background_type_color_css
    assign continue_background_type_color_hover = ecom_ajax_cart.continue_background_type_color_hover_css

  # Integration
    assign integration_hulkapp = ecom_ajax_cart.enable_hulkapp

%}
{% style %}
  {%- if google_fonts.size > 0 -%}
    {%- for css in google_fonts -%}
      {{ css }}
    {%- endfor -%}
  {%- endif -%}

  {%- if custom_fonts.size > 0 -%}
    {%- for css in custom_fonts -%}
      {{ css }}
    {%- endfor -%}
  {%- endif -%}
  .ecom-ajax-cart {
    display: block;
    position: relative;
    width: 90vw; 
    max-width: 770px;
    margin: auto;
    background: #FFFFFF;
    -webkit-box-shadow: 0 4px 15px rgb(0 0 0 / 10%), 0 4px 2px rgb(255 255 255 / 6%);
    box-shadow: 0 4px 15px rgb(0 0 0 / 10%), 0 4px 2px rgb(255 255 255 / 6%);
    border-radius: 8px;
    padding: 20px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    max-height: 780px;
    overflow-y: scroll;
    overflow-x: hidden;
  }

  .ecom-ajax-cart::-webkit-scrollbar {
    width: 1px;
  }

  form.ecom-ajax-cart-contents {
    display: -ms-grid;
    display: grid;
    -ms-flex-line-pack: center;
    align-content: center;
  }

  .ecom-ajax-cart-header {
    padding: 10px 0;
  }

  .ecom-ajax-cart-header > h3 {
    font-style: normal;
    font-weight: 400;
    font-size: 28px;
    line-height: 32px;
    color: #111827;
    margin: 0;
  }
  .ecom-ajax-cart-body {
    max-height: 320px;
    overflow-y: auto;
    overflow-x: auto;
    padding-right: 2px;
  }
  .ecom-ajax-cart-items {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 1fr;
    grid-template-columns: 1fr;
  }
  .ecom-ajax-cart-total {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    gap: 24px;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
  }

  .ecom-ajax-cart-line-item {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 1fr 30px 1fr;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    border-bottom: 1px solid #e3e3e3;
    padding: 0 10px;
  }

  .ecom-ajax-cart-line-item-gr {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 100px 20px 1fr;
    grid-template-columns: 100px 1fr;
    gap: 20px;
  }

  .ecom-ajax-cart-line-item-gr-two {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 1fr 20px 1fr 20px 1fr;
    grid-template-columns: 100px 100px 150px;
    gap: 20px;
  }

  .ecom-ajax-cart-line-item-dl {
    margin-top: 10px;
  }

  .ecom-ajax-cart-line-item-product-option {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
  }

  .ecom-ajax-cart-line-item-product-option dt {
    font-style: normal;
    font-weight: normal;
    font-size: 14px;
    line-height: 20px;
    color: #6B7280;
    opacity: 0.7;
  }

  .ecom-ajax-cart-line-item-product-option dd {
    margin-left: 5px;
    font-style: normal;
    font-weight: normal;
    font-size: 14px;
    line-height: 20px;
    color: #6B7280;
  }

  button.ecom-ajax-cart-line-item-quantity-button {
    max-width: 100%;
    padding: 13px 6px;
    width: 24px;
    height: 100%;
    background: unset;
    border: 0;
    color: #6B7280;
    display: -ms-grid;
    display: grid;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    cursor: pointer;
  }

  .ecom-ajax-cart-line-item-quantity-wrapper {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 25px 1fr 25px;
    grid-template-columns: 25px 1fr 25px;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    border: 1px solid #BABFC3;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border-radius: 4px;
    height: 40px;
    overflow: hidden;
  }

  span.ecom-ajax-cart-visually-hidden {
    display: none;
  }

  .ecom-ajax-cart-line-item-quantity {
    display: -ms-grid;
    display: grid;
    -ms-flex-line-pack: center;
    align-content: center;
  }

  .ecom-ajax-cart.ecom-popup .ecom-ajax-cart-line-item-quantity-input {
    overflow: hidden;
    padding: 0;
    display: -ms-grid;
    display: grid;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    text-align: center;
    border: none;

  }

  .ecom-ajax-cart-line-item-quantity-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .ecom-ajax-cart-line-item-quantity-input:focus-visible {
    outline: unset;
    outline-offset: unset;
    -webkit-box-shadow: unset;
    box-shadow: unset;
  }

  .ecom-ajax-cart-line-item-price-wrapper {
    display: flex;
    width: 100%;
    justify-content: center;
    align-items: center;
  }
  .ecom-ajax-cart-line-item-price {
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 24px;
    color: #111827;
  }
  .ecom-ajax-cart-line-item-cart-item-totals .ecom-ajax-cart-line-item-price {
    font-weight: 600;
  }
  .ecom-ajax-cart-line-item-details {
    display: -ms-grid;
    display: grid;
    -ms-flex-line-pack: center;
    align-content: center;
    -webkit-box-pack: start;
    -ms-flex-pack: start;
    justify-content: start;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    justify-items: start;
    grid-auto-flow: row;
    gap: 5px;
    padding: 10px 0;
  }

  .ecom-ajax-cart-line-item-title {
    font-style: normal;
    font-weight: 500;
    font-size: 16px;
    line-height: 20px;
    color: #111827;
    text-decoration: none;
  }

  .ecom-ajax-cart-line-item-details > *:empty {
    display: none;
  }

  .ecom-ajax-cart-line-item-button-remove {
    box-sizing: border-box;
    width: 36px;
    padding: 10px;
    background: #E5E7EB;
    border-radius: 4px;
    display: -ms-inline-grid;
    display: inline-grid;
    position: relative;
    color: #4B5563;
  }

  .ecom-ajax-cart-line-item-remove {
    display: -ms-grid;
    display: grid;
    -ms-flex-line-pack: start;
    align-content: start;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    -webkit-box-align: start;
    -ms-flex-align: start;
    align-items: start;
  }

  .ecom-ajax-cart-line-item-cart-item-totals {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
    gap: 24px;
  }

  .ecom-ajax-cart-line-item-media {
    max-width: 100px;
    padding: 10px;
  }

  .ecom-ajax-cart-line-item-media img {
    border-radius: 4px;
    /*max-width: 60px;*/
  }

  .ecom-ajax-cart-line-item-details > * {
    display: block;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  .ecom-ajax-cart-footer-informations {
    display: -ms-grid;
    display: grid;
    -ms-flex-line-pack: center;
    align-content: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    justify-items: end;
  }

  .ecom-ajax-cart-totals__subtotal {
    font-style: normal;
    font-weight: 500;
    font-size: 18px;
    line-height: 20px;
    color: #111827;
    margin-right: 5px;
  }

  .ecom-ajax-cart-totals__subtotal-value {
    margin: 0;
    font-style: normal;
    font-weight: 500;
    font-size: 18px;
    line-height: 28px;
  }
  .ecom-ajax-cart-actions__footer {
    display: -ms-grid;
    display: grid;
    -ms-grid-columns: 50% 10px 50%;
    grid-template-columns: 50% 50%;
    /* gap: 10px; */
  }
  .ecom-ajax-cart-tax-note {
    margin-top: 12px;
    font-style: normal;
    font-weight: normal;
    font-size: 14px;
    line-height: 20px;
    color: #374151;
    display: block;
  }

  .ecom-ajax-cart-view-details {
    display: block;
    width: 100%;
  }

  .ecom-ajax-cart-view-details-button {
    margin-top: 24px;
    display: block;
    font-style: normal;
    font-weight: 500;
    font-size: 14px;
    line-height: 20px;
    text-align: center;
    color: var(--ecom-global-colors-primary);
    padding: 12px 24px;
    background: #FFFFFF;
    border: 2px solid var(--ecom-global-colors-primary);
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border-radius: 4px;
    width: 100%;
    text-decoration: none;
  }
  .ecom-ajax-cart-checkout-wrapper {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    width: 100%;
    /* margin-top: 12px; */
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    -webkit-box-align: end;
    -ms-flex-align: end;
    align-items: flex-end;
  }
  .ecom-ajax-cart-button {
    width: 100%;
    border: none;
    max-width: 250px;
    padding: 12px 24px;
    margin-top: 5px;
    -webkit-transition: all 0.3s ease;
    -o-transition: all 0.3s ease;
    transition: all 0.3s ease;
    background: var(--ecom-global-colors-primary);
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 20px;
    text-align: center;
    color: #FFFFFF;
    {% if width %}
        max-width: {{ width }};
    {% endif %}
    {% if typo_button %}
      {{ typo_button }}
    {% endif %}
    margin-top: 5px;
    {% if button_padding %}
        {%  if button_padding.top  %}
            padding-top: {{button_padding.top}};
        {% endif  %}
        {%  if button_padding.right  %}
            padding-right: {{button_padding.right}};
        {% endif  %}
        {%  if button_padding.bottom  %}
            padding-bottom: {{button_padding.bottom}};
        {% endif  %}
        {%  if button_padding.left  %}
            padding-left: {{button_padding.left}};
        {% endif  %}
    {%endif%}
    {% if button_margin %}
        {%  if button_margin.top  %}
            margin-top: {{button_margin.top}};
        {% endif  %}
        {%  if button_margin.right  %}
            margin-right: {{button_margin.right}};
        {% endif  %}
        {%  if button_margin.bottom  %}
            margin-bottom: {{button_margin.bottom}};
        {% endif  %}
        {%  if button_margin.left  %}
            margin-left: {{button_margin.left}};
        {% endif  %}
    {%endif%}
    {% if border_radius %}
        border-top-left-radius: {{ border_radius.top }};
        border-top-right-radius: {{ border_radius.right }};
        border-bottom-right-radius: {{ border_radius.bottom }};
        border-bottom-left-radius: {{ border_radius.left }};
    {% endif  %}
  }
  .ecom-ajax-cart-continue-shopping-button {
    background: #000;
    {% if continue_color %}
        color: {{ continue_color }};
    {% endif %}
    {% if continue_background_color %}
        background: {{ continue_background_color }};
    {% endif %}
    {% if continue_background_type_color %}
        {{ continue_background_type_color }};
    {% endif %}
  }
  .ecom-ajax-cart-checkout-button {
    background: #000;
    {% if checkout_color %}
        color: {{ checkout_color }};
    {% endif %}
    {% if checkout_background_color %}
        background: {{ checkout_background_color }};
    {% endif %}
    {% if checkout_background_type_color %}
        {{ checkout_background_type_color }};
    {% endif %}
  }
    .ecom-ajax-cart-continue-shopping-button:hover {
        cursor: pointer;
        background: rgba(0 0 0 /.8);
      {% if continue_background_color_hover %}
          background: {{ continue_background_color_hover }};
      {% endif %}
      {% if continue_background_type_color_hover %}
          {{ continue_background_type_color_hover }};
      {% endif %}
      {% if continue_color_hover %}
          color: {{ continue_color_hover }};
      {% endif %}
    }
    .ecom-ajax-cart-checkout-button:hover {
        cursor: pointer;
        background: rgba(0 0 0 /.8);
      {% if checkout_background_color_hover %}
          {{ checkout_background_color_hover }};
      {% endif %}
      {% if checkout_background_color_type_hover %}
          {{ checkout_background_color_type_hover }};
      {% endif %}
      {% if checkout_color_hover %}
          color: {{ checkout_color_hover }};
      {% endif %}
    }
  .ecom-ajax-cart-continue-shopping {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: end;
    -ms-flex-align: end;
    align-items: flex-end;
  }

  .ecom-ajax-cart-actions {
    display: -ms-grid;
    display: grid;
    -ms-flex-line-pack: center;
    align-content: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    -webkit-box-align: start;
    -ms-flex-align: start;
    align-items: start;
    justify-items: start;
    width: 100%;
    -ms-grid-columns: 1fr;
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .ecom-ajax-cart-footer {
    display: -ms-grid;
    display: grid;
    grid-auto-flow: row;
    padding-top: 32px;
    gap: 16px;
  }

  .ecom-ajax-cart-close-button {
    position: absolute;
    right: 5px;
    top: 5px;
    border-radius: 50%;
    background: unset;
    border: none;
    cursor: pointer;
    padding: 0;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
  }
  .ecom-ajax-cart-close-button:hover {
    background: transparent;
    -webkit-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
    transform: rotate(180deg);
    -webkit-transition: all 0.3s ease;
    -o-transition: all 0.3s ease;
    transition: all 0.3s ease;
  }
  .ecom-ajax-cart-text-area {
    min-height: 130px;
    border: 1px solid #e3e3e3;
    font-size: 13px;
    outline: 0;
    padding: 15px;
    color: #999;
    border-radius: 0;
  }
  .ecom-ajax-cart-text-area:focus {
    border-color: var(--ecom-global-colors-primary);
  }
  .ecom-ajax-cart-text-area:focus-visible {
    -webkit-box-shadow: none;
    box-shadow: none;
    outline-offset: none;
  }
  .ecom-line-item-blink.ecom-ajax-cart-line-item {
    border: 1px solid var(--ecom-global-colors-primary);
    -webkit-animation: ecomBlink 1s;
    animation: ecomBlink 1s;
    -webkit-animation-iteration-count: 3;
    animation-iteration-count: 3;
  }

  .ecom-ajax-cart-note-field {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
    gap: 12px;
  }
  .ecom-ajax-cart-items .ecom-ajax-cart-line-item:first-child:not(.ecom-line-item-blink) {
    border-top: 1px solid #e3e3e3;
  }
  .ecom-ajax-cart-continue-shopping {
    width: 100%;
  }
  .ecom-ajax-cart-line-item-remove.ecom-remove-tablet {
    display: none;
    top: 0;
    right: 5px;
    position: absolute;
    width: 20px;
    height: 20px;
  }
  .ecom-ajax-cart-trust-seal img {
    max-width: 100%;
  }
  @media screen and (max-width: 1024px) {
    .ecom-ajax-cart-button {
        {% if width__tablet %}
            max-width: {{ width__tablet }};
        {% endif %}
        {% if typo_button__tablet %}
            {{ typo_button__tablet }}
        {% endif %}
        {% if button_padding__tablet %}
            {%  if button_padding__tablet.top  %}
                padding-top: {{button_padding__tablet.top}};
            {% endif  %}
            {%  if button_padding__tablet.right  %}
                padding-right: {{button_padding__tablet.right}};
            {% endif  %}
            {%  if button_padding__tablet.bottom  %}
                padding-bottom: {{button_padding__tablet.bottom}};
            {% endif  %}
            {%  if button_padding__tablet.left  %}
                padding-left: {{button_padding__tablet.left}};
            {% endif  %}
        {%endif%}
        {% if button_margin__tablet %}
            {%  if button_margin__tablet.top  %}
                margin-top: {{button_margin__tablet.top}};
            {% endif  %}
            {%  if button_margin__tablet.right  %}
                margin-right: {{button_margin__tablet.right}};
            {% endif  %}
            {%  if button_margin__tablet.bottom  %}
                margin-bottom: {{button_margin__tablet.bottom}};
            {% endif  %}
            {%  if button_margin__tablet.left  %}
                margin-left: {{button_margin__tablet.left}};
            {% endif  %}
        {%endif%}
    }
    .ecom-ajax-cart-items .ecom-ajax-cart-line-item {
      border-bottom: 1px solid rgba(0 0 0 /.1);
      display: flex !important;
      position: relative;
      padding: 5px 0 0px 112px;
      flex-flow: wrap;
      gap: 10px;
      flex-direction: column;
    }
    .ecom-ajax-cart-line-item-gr {
      border-bottom: 1px dotted rgba(0 0 0 /.1);
      display: block;
    }
    .ecom-ajax-cart-line-item-media {
      position: absolute;
      left: 0;
    }
    .ecom-ajax-cart-line-item-details {
      position: relative;
      display: block;
    }
    .ecom-ajax-cart-line-item-gr-two {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px; 
    }
    .ecom-ajax-cart-line-item-gr-two >*:not(:last-child) {
      width: 100%;
      border-bottom: 1px dotted rgba(0 0 0 /.1);
    }
    .ecom-ajax-cart-line-item-price-wrapper, .ecom-ajax-cart-line-item-quantity {
      justify-content: flex-start;
      padding-bottom: 10px;
    }
    .ecom-ajax-cart-line-item-quantity-wrapper {
      max-width: 100px;
    }
    .ecom-ajax-cart-line-item-remove.ecom-remove-desktop {
      display: none;
    }
    .ecom-ajax-cart-line-item-remove.ecom-remove-tablet {
      display: flex;
    }
    .ecom-ajax-cart-line-item-button-remove {
      background: unset;
      padding: 0;
    }
    .ecom-ajax-cart-line-item-media img {
      max-width: 80px;
    }
  } 
  @media screen and (max-width: 767px) {
    .ecom-ajax-cart-body {
      overflow: auto;
    }
    .ecom-ajax-cart-line-item-gr {
      grid-template-columns: 100px 120px;
    }
    .ecom-ajax-cart-button {
        {% if width__mobile %}
            max-width: {{ width__mobile }};
        {% endif %}
        {% if typo_button__mobile %}
            {{ typo_button__mobile }}
        {% endif %} 
        {% if button_padding__mobile %}
            {%  if button_padding__mobile.top  %}
                padding-top: {{button_padding__mobile.top}};
            {% endif  %}
            {%  if button_padding__mobile.right  %}
                padding-right: {{button_padding__mobile.right}};
            {% endif  %}
            {%  if button_padding__mobile.bottom  %}
                padding-bottom: {{button_padding__mobile.bottom}};
            {% endif  %}
            {%  if button_padding__mobile.left  %}
                padding-left: {{button_padding__mobile.left}};
            {% endif  %}
        {%endif%}
        {% if button_margin__mobile %}
            {%  if button_margin__mobile.top  %}
                margin-top: {{button_margin__mobile.top}};
            {% endif  %}
            {%  if button_margin__mobile.right  %}
                margin-right: {{button_margin__mobile.right}};
            {% endif  %}
            {%  if button_margin__mobile.bottom  %}
                margin-bottom: {{button_margin__mobile.bottom}};
            {% endif  %}
            {%  if button_margin__mobile.left  %}
                margin-left: {{button_margin__mobile.left}};
            {% endif  %}
        {%endif%}
    }
    .ecom-ajax-cart-actions__footer {
      -ms-grid-columns: 1fr;
      grid-template-columns: 1fr;
    }
    .ecom-ajax-cart-checkout-wrapper {
        align-items: center;
    }
    .ecom-ajax-cart-continue-shopping {
        justify-content: center;
    }
  }
  @media only screen and (max-width: 480px) {
    .ecom-ajax-cart {
      max-height: 600px;
      max-width: 90%;
    }
    .ecom-ajax-cart-body {
      position: static;
      overflow: auto;
      max-height: 240px;
    }
    .ecom-ajax-cart-continue-shopping-button {
      width: 100%;
    }
    .ecom-ajax-cart-continue-shopping {
      -webkit-box-ordinal-group: 3;
      -ms-flex-order: 2;
      order: 2
    }
    .ecom-ajax-cart-checkout-wrapper {
      -webkit-box-ordinal-group: 2;
      -ms-flex-order: 1;
      order: 1;
    }
    .ecom-ajax-cart-agree-term label {
      display: block;
    }
    .ecom-ajax-cart-line-item-gr {
      gap: 0;
    }
    /*.ecom-ajax-cart-line-item-gr-two {
      gap: 20px;
    }*/
    .ecom-ajax-cart-line-item-media img {
      max-width: 55px;
    }
    .ecom-ajax-cart-line-item-remove.ecom-remove-tablet {
      right: 0px;
    }
    .ecom-ajax-cart-line-item-details {
      padding-right: 15px;
    }
    .ecom-ajax-cart-line-item-media {
      padding: 10px 0 0 0;
    }
    .ecom-ajax-cart-items .ecom-ajax-cart-line-item {
      padding: 5px 0 0px 60px;
    }
  }

  .ecom-ajax-cart-note-field {
    margin-bottom: 14px;
  }
  .ecom-ajax-cart-icon-discount {
    width: 16px;
    margin-right: 5px;
  }
  .ecom-ajax-cart-line-item-price_sale {
    color: #ff0303;
  }
  .ecom-ajax-cart-note__heading {
    margin-bottom: 10px;
    font-weight: 300;
    font-size: 14px;
  }
  .ecom-ajax-cart-line-item.ecom-item-loading {
    pointer-events: none;
  }
  .ecom-ajax-cart-line-item.ecom-item-loading::after {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -9px;
    margin-left: -9px;
    opacity: 0;
    -webkit-transition: opacity 0.2s;
    -o-transition: opacity 0.2s;
    transition: opacity 0.2s;
    content: "";
    display: inline-block;
    width: 18px;
    height: 18px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-left-color: #fff;
    border-radius: 50%;
    vertical-align: middle;
    border-left-color: currentColor;
    opacity: 1;
    -webkit-animation: 450ms linear infinite ecom-spin;
    animation: 450ms linear infinite ecom-spin;
  }
  .ecom-ajax-cart-line-item.ecom-item-loading::before {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.8);
  }
  /* width */
  .ecom-ajax-cart-body::-webkit-scrollbar {
    width: 2px;
    height: 2px;
    border-radius: 5px;
    background: #f1f1f1;
  }

  /* Handle */
  .ecom-ajax-cart-body::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 5px;

  }

  /* Handle on hover */
  .ecom-ajax-cart-body::-webkit-scrollbar-thumb:hover {
    background: #555;
  }

  @-webkit-keyframes ecomBlink {
    50% {
      border-color: #fff;
    }
  }

  @keyframes ecomBlink {
    50% {
      border-color: #fff;
    }
  }
{% endstyle %}
<div class="ecom-ajax-cart ecom-popup">
  <button
    type="button"
    class="ecom-ajax-cart-close-button"
    data-ecom-action="close">
    <svg
      aria-hidden="true"
      focusable="false"
      role="presentation"
      width="32"
      height="32"
      class="icon icon-close-small"
      viewBox="0 0 12 13"
      fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path
        d="M8.48627 9.32917L2.82849 3.67098"
        stroke="#333030"
        stroke-linecap="round"
        stroke-linejoin="round" />
      <path
        d="M2.88539 9.38504L8.42932 3.61524"
        stroke="#333030"
        stroke-linecap="round"
        stroke-linejoin="round" />
    </svg>
  </button>
  <div clas="ecom-ajax-cart-wrapper">
    <div class="ecom-ajax-cart-container">
      <form
        action="{{ routes.cart_url }}"
        class="ecom-ajax-cart-contents"
        method="post">
        <div class="ecom-ajax-cart-header ecom-tc">
          <h3>{{ 'sections.ecom-ajax-cart.title' | t }}</h3>
        </div>
        <!-- ecom-ajax-cart-header -->
        <div class="ecom-ajax-cart-body">
          <div class="ecom-ajax-cart-items">
            {% if cart.item_count > 0 %}
              {%- for line_item in cart.items -%}
                <div
                  class="ecom-ajax-cart-line-item ecom-pr"
                  data-id="{{line_item.id}}"
                  data-key="{{line_item.key}}">
                  <div class="ecom-ajax-cart-line-item-gr">
                    <div class="ecom-ajax-cart-line-item-media ecom-flex ecom-al_center">
                      {% if line_item.image %}
                        <img
                          class="cart-item__image"
                          src="{{ line_item.image | img_url: '100x' }}"
                          alt="{{ line_item.image.alt | escape }}"
                          loading="lazy"
                          width="75"
                          height="{{ 75 | divided_by: line_item.image.aspect_ratio | ceil }}">
                      {% endif %}
                    </div>
                    <div class="ecom-ajax-cart-line-item-details">
                      <a href="{{ line_item.url }}" class="ecom-ajax-cart-line-item-title">{{ line_item.product.title | escape }}</a>
                      {%- if line_item.product.has_only_default_variant == false or line_item.properties.size != 0 or line_item.selling_plan_allocation != nil -%}
                        <dl class="ecom-ajax-cart-line-item-dl">
                          {%- if line_item.product.has_only_default_variant == false -%}
                            {%- for option in line_item.options_with_values -%}
                              <div class="ecom-ajax-cart-line-item-product-option">
                                <dt>{{ option.name }}:
                                </dt>
                                <dd>{{ option.value }}</dd>
                              </div>
                            {%- endfor -%}
                          {%- endif -%}
                          {%- for property in line_item.properties -%}
                            {%- assign property_first_char = property.first | slice: 0 -%}
                            {%- if property.last != blank -%}
                              <div class="ecom-ajax-cart-line-item-product-option">
                                <dt>{{ property.first }}:
                                </dt>
                                <dd>
                                  {%- if property.last contains '/uploads/' -%}
                                    <a href="{{ property.last }}" target="_blank">
                                      {{ property.last | split: '/' | last }}
                                    </a>
                                  {%- else -%}
                                    {{ property.last }}
                                  {%- endif -%}
                                </dd>
                              </div>
                            {%- endif -%}
                          {%- endfor -%}
                        </dl>
                        <p class="ecom-ajax-cart-line-item-product-option">{{ line_item.selling_plan_allocation.selling_plan.name }}</p>
                      {%- endif -%}
                      <ul
                        class="ecom-ajax-cart-line-item-discounts ecom-ajax-cart-line-item-list-unstyled"
                        role="list"
                        aria-label="Discounts">
                        {%- for discount in line_item.discounts -%}
                          <li class="ecom-discounts__discount ecom-flex ecom-al_center">
                            <svg
                              aria-hidden="true"
                              focusable="false"
                              role="presentation"
                              class="ecom-ajax-cart-icon ecom-ajax-cart-icon-discount"
                              viewBox="0 0 12 12">
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M7 0h3a2 2 0 012 2v3a1 1 0 01-.3.7l-6 6a1 1 0 01-1.4 0l-4-4a1 1 0 010-1.4l6-6A1 1 0 017 0zm2 2a1 1 0 102 0 1 1 0 00-2 0z"
                                fill="currentColor" />
                            </svg>
                            {{ discount.title }}
                          </li>
                        {%- endfor -%}
                      </ul>
                      <div class="ecom-ajax-cart-line-item-remove ecom-remove-tablet">
                        <a
                          data-id="{{line_item.id}}"
                          href="{{ line_item.url_to_remove }}"
                          data-key="{{line_item.key}}"
                          class="ecom-ajax-cart-line-item-button ecom-ajax-cart-line-item-button-remove"
                          aria-label="{{ 'sections.cart.remove_title' | t: title: item.title }}">
                          <svg class="w-6 h-6" x-description="Heroicon name: outline/x" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                          </svg>
                        </a>
                      </div>
                    </div>
                  </div>
                  <div class="ecom-ajax-cart-line-item-gr-two">
                    <div class="ecom-ajax-cart-line-item-prices ecom-flex ecom-al_center ecom-fl_center">
                      <div class="ecom-ajax-cart-line-item-price-wrapper">
                        {%- if line_item.original_price != line_item.final_price -%}
                          <dl class="ecom-ajax-cart-line-item-discounted-prices">
                            <dd>
                              <s class="ecom-ajax-cart-line-item-old-price ecom-price ecom-price--end">
                                {{ line_item.original_price | money }}
                              </s>
                            </dd>
                            <dd class="ecom-ajax-cart-line-item-price ecom-ajax-cart-line-item-price_sale">
                              {{ line_item.final_price | money }}
                            </dd>
                          </dl>
                          {%- if line_item.variant.available and line_item.unit_price_measurement -%}
                            <div class="ecom-ajax-cart-line-item-unit-price">
                              <span class="ecom-ajax-cart-line-item-visually-hidden">
                                {{ 'sections.ecom-ajax-cart.price.unit_price' | t }}
                              </span>
                              {{ line_item.variant.unit_price | money }}
                              <span aria-hidden="true">/</span>
                              <span class="ecom-ajax-cart-line-item-visually-hidden">&nbsp;{{ 'sections.ecom-ajax-cart.unit_price_separator' | t }}&nbsp;</span>
                              {%- if line_item.variant.unit_price_measurement.reference_value != 1 -%}
                                {{- line_item.variant.unit_price_measurement.reference_value -}}
                              {%- endif -%}
                              {{ line_item.variant.unit_price_measurement.reference_unit }}
                            </div>
                          {%- endif -%}
                        {%- else -%}
                          <span class="ecom-ajax-cart-line-item-price">
                            {{ line_item.original_price | money }}
                          </span>
                        {%- endif -%}
                      </div>
                    </div>
                    <div class="ecom-ajax-cart-line-item-quantity">
                      <div class="ecom-ajax-cart-line-item-quantity-wrapper">
                        <button
                          class="ecom-ajax-cart-line-item-quantity-button"
                          name="minus"
                          type="button">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true"
                            focusable="false"
                            role="presentation"
                            class="icon icon-minus"
                            fill="none"
                            viewBox="0 0 10 2">
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M.5 1C.5.7.7.5 1 .5h8a.5.5 0 110 1H1A.5.5 0 01.5 1z"
                              fill="currentColor" />
                          </svg>
                        </button>
                        <input
                          class="ecom-ajax-cart-line-item-quantity-input"
                          type="number"
                          name="updates[]"
                          data-key="{{ line_item.key }}"
                          value="{{ line_item.quantity }}"
                          min="0"
                          aria-label="{{ 'sections.ecom-ajax-cart.quantity.input_label' | t: product: line_item.product.title | escape }}"
                          id="ecom-Quantity-{{ line_item.index | plus: 1 }}"
                          data-index="{{ line_item.index | plus: 1 }}">
                        <button
                          class="ecom-ajax-cart-line-item-quantity-button"
                          name="plus"
                          type="button">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true"
                            focusable="false"
                            role="presentation"
                            class="icon icon-plus"
                            fill="none"
                            viewBox="0 0 10 10">
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M1 4.51a.5.5 0 000 1h3.5l.01 3.5a.5.5 0 001-.01V5.5l3.5-.01a.5.5 0 00-.01-1H5.5L5.49.99a.5.5 0 00-1 .01v3.5l-3.5.01H1z"
                              fill="currentColor" />
                          </svg>
                        </button>
                      </div>
                    </div>
                    <div class="ecom-ajax-cart-line-item-cart-item-totals ecom-flex ecom-al_center">
                      <div class="ecom-ajax-cart-line-item-price-wrapper">
                        {%- if line_item.original_line_price != line_item.final_line_price -%}
                          <dl class="ecom-ajax-cart-line-item-discounted-prices">
                            <dd class="ecom-ajax-cart-line-item-price">
                              {{ line_item.final_line_price | money }}
                            </dd>
                          </dl>
                        {%- else -%}
                          <span class="ecom-ajax-cart-line-item-price">
                            {{ line_item.original_line_price | money }}
                          </span>
                        {%- endif -%}
                      </div>
                      <div class="ecom-ajax-cart-line-item-remove ecom-remove-desktop">
                        <a
                          data-id="{{line_item.id}}"
                          href="{{ line_item.url_to_remove }}"
                          data-key="{{line_item.key}}"
                          class="ecom-ajax-cart-line-item-button ecom-ajax-cart-line-item-button-remove"
                          aria-label="{{ 'sections.cart.remove_title' | t: title: item.title }}">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 16 16"
                            aria-hidden="true"
                            focusable="false"
                            role="presentation"
                            class="ecom-ajax-cart-icon ecom-ajax-cart-icon-remove">
                            <path d="M14 3h-3.53a3.07 3.07 0 00-.6-1.65C9.44.82 8.8.5 8 .5s-1.44.32-1.87.85A3.06 3.06 0 005.53 3H2a.5.5 0 000 1h1.25v10c0 .28.22.5.5.5h8.5a.5.5 0 00.5-.5V4H14a.5.5 0 000-1zM6.91 1.98c.23-.29.58-.48 1.09-.48s.85.19 1.09.48c.2.24.3.6.36 1.02h-2.9c.05-.42.17-.78.36-1.02zm4.84 11.52h-7.5V4h7.5v9.5z" fill="currentColor" />
                            <path d="M6.55 5.25a.5.5 0 00-.5.5v6a.5.5 0 001 0v-6a.5.5 0 00-.5-.5zM9.45 5.25a.5.5 0 00-.5.5v6a.5.5 0 001 0v-6a.5.5 0 00-.5-.5z" fill="currentColor" />
                          </svg>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              {%- endfor -%}
            {% else %}
              <div class="ecom-ajax-cart-no-item">
                {{ 'sections.ecom-ajax-cart.empty' | t }}
              </div>
            {% endif %}
          </div>
        </div>
        <!-- ecom-ajax-cart-body -->
        <div class="ecom-ajax-cart-footer">
          <div class="ecom-ajax-cart-footer-informations">
            <div class="ecom-ajax-cart-js-contents">
              <div class="ecom-ajax-cart-totals ecom-flex ecom-al_center ecom-fl_center">
                <h3 class="ecom-ajax-cart-totals__subtotal">{{ 'sections.ecom-ajax-cart.subtotal' | t }}:</h3>
                <p {% if integration_hulkapp %} data-hulkapps-cart-total {% endif %} class="ecom-ajax-cart-totals__subtotal-value">{{ cart.total_price | money }}</p>
              </div>
              {%- if cart.cart_level_discount_applications.size > 0 -%}
                <div>
                  <ul
                    class="discounts list-unstyled"
                    role="list"
                    aria-label="{{ 'sections.ecom-ajax-cart.discount' | t }}">
                    {%- for discount in cart.cart_level_discount_applications -%}
                      <li class="discounts__discount discounts__discount--end">
                        <svg
                          aria-hidden="true"
                          focusable="false"
                          role="presentation"
                          class="ecom-ajax-cart-icon ecom-ajax-cart-icon-discount"
                          viewBox="0 0 12 12">
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M7 0h3a2 2 0 012 2v3a1 1 0 01-.3.7l-6 6a1 1 0 01-1.4 0l-4-4a1 1 0 010-1.4l6-6A1 1 0 017 0zm2 2a1 1 0 102 0 1 1 0 00-2 0z"
                            fill="currentColor" />
                        </svg>
                        {{ discount.title }} (-{{ discount.total_allocated_amount | money }})
                      </li>
                    {%- endfor -%}
                  </ul>
                </div>
              {%- endif -%}
              {%- comment -%}
              <small class="ecom-ajax-cart-tax-note"> {%- if cart.taxes_included and shop.shipping_policy.body != blank -%} {{ 'sections.ecom-ajax-cart.taxes_included_and_shipping_policy_html' | t: link: shop.shipping_policy.url }} {%- elsif cart.taxes_included -%} {{ 'sections.ecom-ajax-cart.taxes_included_but_shipping_at_checkout' | t }} {%- elsif shop.shipping_policy.body != blank -%} {{ 'sections.ecom-ajax-cart.taxes_and_shipping_policy_at_checkout_html' | t: link: shop.shipping_policy.url }} {%- else -%} {{ 'sections.ecom-ajax-cart.taxes_and_shipping_at_checkout' | t }} {%- endif -%} </small>
              {%- endcomment -%}
            </div>
            {% comment %}
            {%- if additional_checkout_buttons -%}
              <div class="ecom-ajax-cart-dynamic-checkout-buttons ecom-ajax-cart-additional-checkout-buttons">
                {{ content_for_additional_checkout_buttons }}
              </div>
            {%- endif -%}
            {% endcomment %}
          </div>
          {% comment %}
          <div class="ecom-ajax-cart-continue-shopping-full">
          <div class="ecom-ajax-cart-view-details">
          <a href="{{routes.cart_url }}" class="ecom-ajax-cart-view-details-button" data-ecom-action="close">{{ 'sections.ecom-ajax-cart.view_cart' | t }}</a>
          </div>

          </div>
          {% endcomment %}
          {%- if ecom_ajax_cart.image.value -%}
            <div class="ecom-ajax-cart-trust-seal ecom-flex ecom-column ecom-fl_center ecom-al_center">
              <img
                src="{{ecom_ajax_cart.image.value}}"
                alt="{{ecom_ajax_cart.image.name}}"
                {%- if ecom_ajax_cart.image_size -%}width="{{ecom_ajax_cart.image_size}}"{%- endif -%} />
            </div>
          {%- endif -%}
          {%- if ecom_ajax_cart.note -%}
            <div class="ecom-ajax-cart-actions__note ecom-flex ecom-column">
              <h3 class="ecom-ajax-cart-note__heading">{{ 'sections.ecom-ajax-cart.note' | t }}</h3>
              <textarea
                class="ecom-ajax-cart-text-area ecom-ajax-cart-field-input"
                rows="3"
                name="note"
                id="ecom-ajax-cart-note">{{ cart.note }}</textarea>
            </div>
          {%- endif -%}
          <div class="ecom-ajax-cart-actions__footer">
            <div class="ecom-ajax-cart-continue-shopping">
              {%- if ecom_ajax_cart.note -%}
                <div class="ecom-ajax-cart-note-field"></div>
              {%- endif -%}
              <button class="ecom-ajax-cart-button ecom-ajax-cart-continue-shopping-button" data-ecom-action="close">
                {% if continue_label %}
                  {{ continue_label }}
                {% else %}
                  {{ 'sections.ecom-ajax-cart.continue_shopping' | t }}
                {% endif %}
              </button>
            </div>
            <div class="ecom-ajax-cart-checkout-wrapper">
              {%- comment -%}
              <div class="ecom-ajax-cart-agree-term">
              <label for="ecom-ajax-cart-agree-term-input" class="ecom-flex ecom-al_center">
              <input type="checkbox" id="ecom-ajax-cart-agree-term-input" required="required" name="properties[agree]" />
              {{'sections.ecom-ajax-cart.term' | t}}
              </label>
              </div>
              {%- endcomment -%}
              <button
                class="ecom-ajax-cart-button ecom-ajax-cart-checkout-button"
                name="checkout"
                {% if cart == empty %}
                disabled
                {% endif %}>
                {% if checkout_label %}
                  {{ checkout_label }}
                {% else %}
                  {{ 'sections.ecom-ajax-cart.checkout' | t }}
                {% endif %}
              </button>
              {% comment %}
              {%- if additional_checkout_buttons -%}
                <div class="ecom-ajax-cart-dynamic-checkout-buttons ecom-ajax-cart-additional-checkout-buttons">
                  {{ content_for_additional_checkout_buttons }}
                </div>
              {%- endif -%}
              {% endcomment %}
            </div>
          </div>
        </div>
        <!-- ecom-ajax-cart-footer -->
      </form>
    </div>
    <!-- ecom-ajax-cart-container -->
  </div>
  <!-- ecom-ajax-cart-wrapper -->
</div>

{% schema %}
  {
    "name": "EComposer Ajax cart",
    "settings": [
      {
        "type": "header",
        "content": "The section generated by [EComposer](https://www.ecomposer.io).",
        "info": "EComposer provides tons of pre-built Layouts and Blocks/Sections and focus on the simplicity for content editing, to help the merchants easy to build a nice store with drag, sorting and edit content only. "
      }
    ],
    "locales": {
      "en": {
        "quantity": {
          "label": "Quantity",
          "input_label": "Quantity for   {{ product }}",
          "increase": "Increase quantity for   {{ product }}",
          "decrease": "Decrease quantity for   {{ product }}"
        },
        "title": "Your cart",
        "caption": "Cart items",
        "remove_title": "Remove   {{ title }}",
        "subtotal": "Subtotal",
        "new_subtotal": "New subtotal",
        "note": "Order note",
        "checkout": "Checkout",
        "empty": "Your cart is empty",
        "term": "I agree with the terms and conditions",
        "cart_error": "There was an error while updating your cart. Please try again.",
        "cart_quantity_error_html": "You can only add [quantity] of this item to your cart.",
        "taxes_and_shipping_policy_at_checkout_html": "Taxes and <a href=\"  {{ link }}\">shipping</a> calculated at checkout",
        "taxes_included_but_shipping_at_checkout": "Tax included and shipping calculated at checkout",
        "taxes_included_and_shipping_policy_html": "Tax included. <a href=\"  {{ link }}\">Shipping</a> calculated at checkout.",
        "taxes_and_shipping_at_checkout": "Taxes and shipping calculated at checkout",
        "unit_price_separator": "per",
        "view_cart": "View cart",
        "headings": {
          "product": "Product",
          "price": "Price",
          "total": "Total",
          "quantity": "Quantity"
        },
        "update": "Update",
        "price": {
          "from_price_html": "From   {{ price }}",
          "regular_price": "Regular price",
          "sale_price": "Sale price",
          "unit_price": "Unit price"
        },
        "continue_shopping": "Continue shopping",
        "message": {
          "one":"{{ count }}item in your cart",
          "other":"{{ count }}items in your cart"
        }
      }
    }
  }
{% endschema %}