!function(){const e=function(){"use strict";window.__ectimmers=window.__ectimmers||{},window.__ectimmers["ecom-n2lgmf51guk"]=window.__ectimmers["ecom-n2lgmf51guk"]||{};const e=this.$el,t=this.isLive;if(window.EComCountdown){let o=function(e,t,n){let o="expires="+n.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},s=function(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},a=function(e){const[t,n,o]=e.split(":");return 24*t*60*60*1e3+60*n*60*1e3+60*o*1e3},i=function(e,n,o){let a=s(w),i=a?JSON.parse(a):"";!t||("hideTimer"===e?n.style.display="none":"hideSection"===e?t&&(n.closest(".ecom-section").style.display="none"):"redirect"===e?o?null!=i&&i.redirect_url&&(window.location.href=i.redirect_url):y&&(window.location.href=y):"toast"===e&&h&&(o?i.messages&&EComposer.showToast(i.messages):EComposer.showToast(h)))};const r=e.querySelector(".ecom-element__countdown--time");let c=e.querySelector(".ecom-countdown-progress-bar"),d=e.querySelector(".ecom-countdown-progress-bar--timer"),l=r?r.dataset.countdownFrom:0,m=r&&r.dataset.countdownType?r.dataset.countdownType:"visit",u=!(!r||!r.dataset.countdownRestart)&&r.dataset.countdownRestart,w="ecomposer_evergreen",g=s(w);g&&JSON.parse(g);let p=r.dataset.countdownTo;const _=r.dataset.evergreenRestart?JSON.parse(r.dataset.evergreenRestart):"",f=_?_.type:"",v=r.dataset.evergreenExpiryActions?r.dataset.evergreenExpiryActions:"",y=r.dataset.evergreenRedirectUrl?r.dataset.evergreenRedirectUrl:"",h=r.dataset.evergreenActionMessages?r.dataset.evergreenActionMessages:"";if(r&&r.dataset.evergreenCdTime&&"evergreen"===r.dataset.countdownType){const e=(new Date).getTime();p=new Date(e+a(r.dataset.evergreenCdTime))}if(r&&p){let t=function(e){if(this.innerHTML=e.strftime(n),c&&l){let t=(new Date).getTime(),n=new Date(l).getTime(),o=e.finalDate.getTime();if(n<t&&o>n){c.style.display="inherit";let e=o-n,s=o-t,a=Math.round(100*s/e);d.style.width=a+"%"}else c.style.display="none"}};const g=r.dataset.showFields?r.dataset.showFields:"",D=r.dataset;var n="";const T=/\[([^\]]+)\]/gm;if(g.includes("week")&&D.transWeek.length>0){let e="",t=D.transWeek.replace(T,(...t)=>(e=t[1],""));n+=`\n                                        <div class="ecom-element__countdown-item--weeks">\n                                            <span class="ecom-element__countdown-number">${e}</span>\n                                            <span class="ecom-element__countdown-text">\n                                                 ${t}\n                                            </span>\n                                        </div>`}if(g.includes("day")&&D.transDay.length>0){let e="",t=D.transDay.replace(T,(...t)=>(e=t[1],""));n+=`\n                                        <div class="ecom-element__countdown-item--days">\n                                            <span class="ecom-element__countdown-number">\n                                                ${e}\n                                            </span>\n                                            <span class="ecom-element__countdown-text">\n                                                ${t}\n                                            </span>\n                                        </div>`}if(g.includes("hour")&&D.transHour.length>0){let e="",t=D.transHour.replace(T,(...t)=>(e=t[1],""));n+=`\n                                        <div class="ecom-element__countdown-item--hours">\n                                            <span class="ecom-element__countdown-number">\n                                                 ${e}\n                                            </span>\n                                            <span class="ecom-element__countdown-text">\n                                                ${t}\n                                            </span>\n                                        </div>`}if(g.includes("minute")&&D.transMinute.length>0){let e="",t=D.transMinute.replace(T,(...t)=>(e=t[1],""));n+=`\n                                        <div class="ecom-element__countdown-item--minutes">\n                                            <span class="ecom-element__countdown-number">\n                                                ${e}\n                                            </span>\n                                            <span class="ecom-element__countdown-text">\n                                                ${t}\n                                            </span>\n                                        </div>`}if(g.includes("second")&&D.transSecond.length>0){let e="",t=D.transSecond.replace(T,(...t)=>(e=t[1],""));n+=`\n                                        <div class="ecom-element__countdown-item--seconds">\n                                            <span class="ecom-element__countdown-number">\n                                                ${e}\n                                            </span>\n                                            <span class="ecom-element__countdown-text">\n                                                ${t}\n                                            </span>\n                                    </div>`}if(!(l&&(new Date).getTime()<new Date(l).getTime()&&"time"==m)){let n=new Date(p);if(window.EComCountdown){if("evergreen"===m){let t=s(w),c=t?JSON.parse(t):"";if("nextVisit"!==f&&"immediately"!==f){const t=r.dataset.evergreenVersion?r.dataset.evergreenVersion:"";let s={action:r.dataset.evergreenExpiryActions?r.dataset.evergreenExpiryActions:"",evergreen_ver:t,creation_date:new Date,countdown_time:p,expiration_date:"",redirect_url:y,messages:h};if("object"==typeof c&&c.evergreen_ver&&c.evergreen_ver===t){let t=new Date,o=new Date(c.countdown_time);if(!(o>t))return e.style.display="none",void i(c.action,e,!0);n=o,l=c.creation_date?c.creation_date:0}else if("specificTime"===f){const e=new Date;l=e;let t="number"==typeof a(_.data)?new Date(e.getTime()+a(_.data)):0;s.expiration_date=t,o(w,JSON.stringify(s),t)}else if("none"===f){const e=new Date;l=e;let t=new Date(e);t.setDate(e.getDate()+365),s.expiration_date=t,o(w,JSON.stringify(s),t)}}else l=new Date}let c=new Date(p).getTime()-new Date(r.dataset.countdownFrom).getTime(),d=new Date(p).getTime()+c;if(0==c)return;for(;d<(new Date).getTime();)d+=c;window.EComCountdown(r,n,{}),r.addEventListener("update.ecom.countdown",t),r.addEventListener("finish.ecom.countdown",(function(n){if("true"==u&&"time"==m&&window.EComCountdown(r,new Date(d),t),"evergreen"===m)if("none"===f||"specificTime"===f){let t=s(w),n=t?JSON.parse(t):"";i(n.action,e,!0)}else if("immediately"===f&&_.data){let n=a(r.dataset.evergreenCdTime);if("number"==typeof n&&n>0){let o=(new Date).getTime();l=new Date,i(v,e),window.EComCountdown(r,new Date(o+n),t)}}else"nextVisit"===f&&i(v,e)}))}}}}};document.querySelectorAll(".ecom-n2lgmf51guk").forEach((function(t){e.call({$el:t,id:"ecom-n2lgmf51guk",settings:{},isLive:!0})}))}();